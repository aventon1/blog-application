<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{master_template::site-head}">
    <link rel="stylesheet" href="../static/css/styles.css" th:href="@{/css/styles.css}" />
    <title>Create Post</title>
</head>

<body>

<header th:replace="~{master_template::site-header}"></header>

<div class = "container">
    <div class = "row">
        <div class ="card-container">
            <h1 class = "text-center"> Users </h1>

            <table class = "user-post-table">
                <thead class = "post-table-head">
                <tr>
                    <th> Name </th>
                    <th> User Id </th>
                </tr>
                </thead>
                <tr th:each = "user : ${users}">
                    <td th:text = "${user.firstName}"></td>
                    <td th:text = "${user.id}"></td>
                </tr>
                </tbody>
            </table>

            <h1 class = "text-center"> Create New Post </h1>
            <div class = "create-post">
                <form th:action="@{/posts}" th:object = "${post}" method="POST">

                    <div class ="form-group">
                        <label> User Id</label>
                        <input
                                type = "text"
                                name = "user"
                                th:field = "*{user.id}"
                                class = "form-control"
                                placeholder="User"
                        />
                        <p th:if="${#fields.hasErrors('user')}" th:errorclass="error" th:errors="*{user.id}">Enter a valid Id</p>
                    </div>

                    <div class ="form-group">
                        <label> Post Title </label>
                        <input
                                type = "text"
                                name = "title"
                                th:field = "*{title}"
                                class = "form-control"
                                placeholder="Enter Post Title"
                        />
                    </div>
                    <p th:if="${#fields.hasErrors('title')}" th:errorclass="error" th:errors="*{title}">Enter post title</p>

                    <div class ="form-group">
                        <label> Post Content </label>
                        <input
                                type = "text"
                                name = "content"
                                th:field = "*{content}"
                                class = "form-content"
                                placeholder="Enter Post Content"
                        />
                    </div>
                    <p th:if="${#fields.hasErrors('content')}" th:errorclass="error" th:errors="*{content}">Enter post content</p>

                    <div class = "box-footer">
                        <button type="submit" id="button-create">
                            Submit
                        </button>
                    </div>
                </form>

            </div>
        </div>
    </div>
</div>


<footer th:replace="~{master_template::site-footer}"> </footer>

</body>
</html>